
<a ng-class ng-click="deleteApplicant()" class="delete-link">DELETE</a>

<div class='container main-container' id='applicant-page'>

    <h2 id='failed-banner' class='red text-center' ng-show="applicant.pass==0">FAILED</h2>

    <div id='applicant-info' class='row'>
        <div class="index-half-left col-xs-5 col-md-5 text-left">
            <h3><span ng-show='editApplicantInfo==false'>{{applicant.name}}</span><input ng-show='editApplicantInfo==true' type='text' ng-model='applicant.name'></h3>
            <p><em>Position:</em> <span ng-show='editApplicantInfo==false'>{{applicant.position}}</span><input ng-show='editApplicantInfo==true' type='text' ng-model='applicant.position'></p>
            <p><em>Goalie:</em> <span ng-show='editApplicantInfo==false'>{{interviewersMap[applicant.goalie].name}}</span>
                <select ng-show='editApplicantInfo==true' ng-model="applicant.goalie" ng-options="interviewer.name for interviewer in interviewersList">
                    <option value="applicant.goalie">-select-</option>
                </select>
            </p>
        </div>
        <div id='applicant-info-well' class="well index-half-right col-xs-5 col-md-5 text-left">
            <button id='updateApplicantInfo-btn' ng-click="updateApplicantInfo()" class="float-right btn btn-default"><h3>Edit</h3></button>
            <p><em>Resume: </em> <span ng-show='editApplicantInfo==false'><a ng-href='{{applicant.resume}}'> View</a></span><input ng-show='editApplicantInfo==true' type='text' ng-model='applicant.resume'></p>
            <p><em>Email:</em> <span ng-show='editApplicantInfo==false'>{{applicant.email}}</span><input ng-show='editApplicantInfo==true' type='text' ng-model='applicant.email'></p>
            <button ng-show='editApplicantInfo==true' id='failApplicantInfo-btn' ng-click="applicant.pass=0" class="float-right btn btn-danger"><h5>FAIL</h5></button>
            <p><em>Phonenumber:</em> <span ng-show='editApplicantInfo==false'>{{applicant.phone}}</span><input ng-show='editApplicantInfo==true' type='text' ng-model='applicant.phone'></p>
        </div>
    </div>


    <div id="tasks-container" class="panel panel-primary">
        <div class="panel-heading">
            <button id="add-applicant-button" ng-click="addNewPressed()" class="add-btn btn btn-success">+</button>
            <span>Tasks</span>
        </div>

        <div class="panel-body">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th></th>
                        <th>Task</th>
                        <th>Date</th>
                        <th>Assignee</th>
                        <th>Feedback Due</th>
                        <th>Feedback</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-show="addNew==true">
                        <td><button id="add-task" ng-click="addTask()" class="btn btn-success">POST</button></td>
                        <td><input type='text' placeholder='Task name' ng-model='new_task.name'></td>
                        <td><input type='text' placeholder='Role' ng-model='new_task.role'></td>
                        <td>
                            <select ng-model="new_task.goalie" ng-options="interviewer.name for interviewer in interviewers">
                                <option value="">-select-</option>
                            </select>
                        </td>
                    </tr>

                    <tr ng-repeat="task in totalTasks | orderBy:'date'">
                        <td><button id="add-task" ng-click="editTask()" class="btn btn-warning small-btn">EDIT</button></td>
                        <td class="task-title"><a href="/applicant/{{applicant.id}}">{{task.title}}</a></td>
                        <td class="task-date">{{task.date | date:'MM/dd/yyyy @ h:mma'}}</td>
                        <td class="task-assignee">{{interviewersMap[task.interviewer].name}}</td>
                        <td class="task-feedback-due">{{task.feedback_due | date:'MM/dd/yyyy @ h:mma'}}</td>
                        <td class="task-feedback-due">{{task.feedback}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
